<!DOCTYPE html>
<html lang="ZH-cn">
<head>
<meta charset="utf-8" />
<title>Demo by Alextang</title>
<style type="text/css" media="screen">
    * {margin:0;padding:0;list-style:none;}
    body {font:400 14px/22px Arial;color:#474747;background-color:#e2e2e2;}
    img {display:block;}
    .container {width:960px;margin:0px auto;padding:25px 20px;background-color:#f9f5f5;}
    h1 {font:700 20px/40px microsoft yahei,Arial;text-align:center;color:#333;}
    h3 {color:#333;font:700 16px/30px Arial;}
    p {margin:15px 0;}
    .post_img {overflow:hidden;}
    .post_img img {width:100%;margin:15px 0;}
</style>
</head>
<body>

<div class="container">
    <h1 class="">刀锋铁骑静态游戏体验站小结</h1>
    <h3 id="项目背景">项目背景</h3>
    <p>刀锋铁骑是一款冷兵器战斗游戏，待补充...</p>
    <h3 id="设计理念">设计理念</h3>
    <p>在为其设计神秘站时，设计师为了营造古战场的历史氛围，提倡采用横向视差滚动的展现方式，玩家浏览站点时，剪影、金箔等素材的分层的滚动。像历史画卷般生动，凸显品牌感。</p>
    <h3 id="技术预研">技术预研</h3>
    <p>视差滚动（Parallax Scrolling）是指让多层背景以不同的速度移动，形成3D立体的运动效果，带来非常出色的视觉体验。它原本是一个天文学术语，当我们观察星空时，离我们远的星星移动速度较慢，离我们近的星星移动速度则较快。许多游戏中都使用视差效果来增加场景的立体感。说的简单点就是网页内的元素在滚动屏幕时发生的位置的变化，然而各个不同的元素位置变化的速度不同，导致网页内的元素有层次错落的错觉，这和我们人体的眼球效果很像。经常看到多家产品商用视差滚动效果来展示产品，使产品充满了趣味性，起到了非常不错的效果。</p>
    <p>在和设计师沟通具体实现细节时，遇到了一个纠结点，即视差滚动场景切换方式。是让用户每滚动一下鼠标就过渡一个场景，还是需要用户持续滚动鼠标滚轮来逐渐过渡场景呢？这里我们把前面一种方案称作“单次滚动方案” (比如：http://pocarisweat.jp//#/download) ，后面一种称作“持续滚动方案”（如：http://t7.qq.com/act/a20131120exp/ ）。对于这两种方案，设计和重构都有着不同的见解。而且仅仅从抽象的动画描述很难让彼此信服，重构在定稿前期抽空分别制作了两种方案的原型，并邀设计师一起体验。发现“单次滚动方案”从用户操作上来说更加便利 (如果页面内容很多，用户持续滚动鼠标滚轮会非常累) ，而且在实现成本上也更有优势，而且更利于同类项目的代码复用。尽管前面的方案看起来更不错，但不同的项目有不同的背景和诉求，为了营造刀锋铁骑的冷兵器格斗氛围和厚重的历史感，最后我们选择了设计师推荐的“持续滚动方案”。</p>
    <h3 id="线上效果">线上效果</h3>
    <p>《三国演义》的故事大家都已耳熟能详，驰骋的沙场，身披银甲的英雄，金箔和光斑交错，令人着迷的意境，东方古典战争美之极致。</p>
    <p > <a target="_blank" href="http://t7.qq.com/act/a20131120exp/">查看刀锋铁骑静态游戏体验站</a></p>
    <div class="post_img">
        <img src="1.jpg" alt="刀锋铁骑静态游戏体验站截图"/>
        <img src="2.jpg" alt="刀锋铁骑静态游戏体验站截图"/>
    </div>
    <h3 id="优化细节">优化细节</h3>
    <p>视差滚动页面由于内容分层会用到很多大尺寸图片和png24格式图片，图片总体积比较大。为保证用户看到最佳的效果，我们为此设计了页面载入提示，当页面素材全部载入之后，用户方可通过鼠标或者键盘触发视差滚动的效果。由于IE6这种上古浏览器对png24的支持不是很友好，我们也为其单独做了静态页面，保证产品的可用性。</p>
    <p>在页面性能层上，相信每个前端都会绞尽脑汁把静态文件进行极致压缩，我们也不例外，初稿完成后发现images文件夹下有40多张图，总体积多达3MB左右。这绝对是性能的硬伤，我们对此做了一系列的优化处理： </p>
    <ol>
        <li>1. 结合页面的设计风格，我将部分png24格式的图片，重新修改为png8的alpha透明的图片，图片边缘的锯齿感在沙场颗粒物平铺的背景图下看起来也没太大影响; </li>
        <li>2. 根据图片的使用场景和出现位置选择合适的品质重新压缩，比如有些出现在页面角落的修饰图就可以酌情调低图片质量。 </li>
        <li>3. 页面中有一层素材是金箔，这类图片的边缘非常之不规则，且位于页面的偏角落位置。每个场景都有好几张不同的金箔，于是，我们将金箔图片进行重用，每个场景使用同样的金箔，对于高端浏览器，使用CSS3旋转变成另一张图来达到差异化的效果，如此又节省出几张图片。</li>
    </ol>
    <p>经过上面的几部优化，图片素材的数量减少了3张，体积减少了43.8% ,按照平均网速计算，让用户等待页面加载的时间减少了快一半。</p>
    <h3 id="团队协作">团队协作</h3>
    <p>在以往传统的网页设计过程中，重构工程师拿着设计稿就可以写Demo了，但在视差滚动设计中可不那么简单。很多细节的动画过渡，仅靠口头描述，总显得苍白乏力。在本次项目中，重构工程师 在设计阶段就已经介入项目讨论，并开发出各方案的原型一起探讨，确定好每个动画细节，保证团队成员的信息对称。</p>
    <h3 id="总结">总结</h3>
    <p>诚如我们所见，视差滚动确实带来了耳目一新的交互和视觉体验，让人印象深刻，在一定程度上提升品牌识别度；另一方面，它也有一些劣势，如：整个站点静态文件体积增加，浪费公司带宽， 用户也需要等待更长的时间才能浏览到页面。总的来说，我们建议在这些场景中可以使用视差滚动：用于大力宣传品牌、新品的网站；需要强力视觉冲击的主题宣传站点。</p>
</div>
</body>
</html>
